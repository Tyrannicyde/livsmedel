<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Title</title>
    <link rel="stylesheet" href="style.css">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"> </script>
</head>

<body>
    <header>
        <div id="headerID"></div>
    </header>

    <div id="dropdownDivTest" class="dropdown_cont">
      <div id="dropdownDivTest_1" class="dropdown_box">
        <p id="Choice_1">Livsmedel 1</p>
      </div>
      <div id="dropdownDivTest_2" class="dropdown_box">
        <p id="Choice_1">Livsmedel 1</p>
      </div>
      <div id="dropdownDivTest_3" class="dropdown_box">
        <p id="Choice_1">Livsmedel 1</p>
      </div>
      <div id="dropdownDivTest_4" class="dropdown_box">
        <p id="Choice_1">Livsmedel 1</p>
      </div>

    <a href="index.html">
        <button type="button">FÃ¶rstasidan</button>
      </a>

    <script>

        var coll = document.getElementsByClassName("collapsible");
          var i;
          
          for (i = 0; i < coll.length; i++) {
            coll[i].addEventListener("click", function() {
              this.classList.toggle("active");
              var content = this.nextElementSibling;
              if (content.style.maxHeight){
                content.style.maxHeight = null;
              } else {
                content.style.maxHeight = content.scrollHeight + "px";
              }
            });
          }
            /*
            fetch('database.json')
                .then(response => response.json())
                .then(data => {
                    for (let i = 1; i <= 10; i++) { // Assuming you have 10 dropdowns
                        const dropdown = document.getElementById(`dropdown_${i}`);
                        const h1 = document.getElementById(`number_${i}`);  
                        for (let ii = 1; ii <= 59; ii++) {
                        }
                        if (dropdown && h1) {
                            const namnValues = data.LivsmedelDataset.LivsmedelsLista.Livsmedel.map(item => item.Namn);
                            namnValues.sort((a, b) => {
                                return a.localeCompare(b, 'sv');
                            });
                            namnValues.forEach(namn => {
                                const option = document.createElement('option');
                                option.textContent = namn;
                                dropdown.appendChild(option);
                            });
                            dropdown.addEventListener('change', function() {
                                const selectedNamn = this.value;
                                const selectedItem = data.LivsmedelDataset.LivsmedelsLista.Livsmedel.find(item => item.Namn === selectedNamn);
                                if (selectedItem) {
                                    h1.textContent = selectedItem.Varde;
                                }
                            });
                        }
                    }
                  })
                .catch(error => console.error('Error fetching JSON:', error));
                */


                fetch('database.json')
        .then(response => response.json())
        .then(data => {
            for (let i = 1; i <= 10; i++) {
                const dropdown = document.getElementById(`dropdown_${i}`);
                const h1 = document.getElementById(`number_${i}`);
                const titleCell = document.createElement('th');
                if (dropdown && h1) {
                    const namnValues = data.LivsmedelDataset.LivsmedelsLista.Livsmedel.map(item => item.Namn);
                    namnValues.sort((a, b) => {
                        return a.localeCompare(b, 'sv');
                    });
                    namnValues.forEach(namn => {
                        const option = document.createElement('option');
                        option.textContent = namn;
                        dropdown.appendChild(option);
                    });
                    dropdown.addEventListener('change', function() {
                        const selectedNamn = this.value;
                        const selectedItem = data.LivsmedelDataset.LivsmedelsLista.Livsmedel.find(item => item.Namn === selectedNamn);
                        if (selectedItem) {
                            h1.textContent = selectedItem.Varde;
                            titleCell.textContent = `${i} - ${selectedItem.Namn}`;
                            col1Cell.innerHTML = 'a';
                            col2Cell.innerHTML = 'b';
                            col3Cell.innerHTML = 'c';
                        }
                    });
                }
              }
            });
            </script>

</body>
</html>